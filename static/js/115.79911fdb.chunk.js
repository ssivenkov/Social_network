"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[115],{849:function(n,e,r){r.d(e,{t:function(){return m}});var t=r(4942),i=r(885),o=r(2791),u=r(1694),a=r.n(u),s=r(6527),l="pagination_pagination__KVUxs",c="pagination_text__CXY3h",f="pagination_currentNumber__hGg6K",d="pagination_selectPage__DsA+5",p="pagination_page__TcKxn",g="pagination_button__+Tzu0",h="pagination_buttonContainer__UniwP",v=r(184),m=function(n){for(var e=n.totalItemsCount,r=n.pageSize,u=n.currentPage,m=n.onPageChanged,_=n.portionSize,y=Math.ceil(e/r),w=[],x=1;x<=y;x+=1)w.push(x);var P=y/_,j=(0,o.useState)(1),C=(0,i.Z)(j,2),b=C[0],z=C[1],N=(b-1)*_+1,k=b*_;return(0,v.jsxs)("div",{className:l,children:[(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)(s.z,{className:g,disabled:b<=1,onClick:function(){return z(b-1)},children:"Prev list"}),(0,v.jsx)(s.z,{className:g,disabled:u<=1,onClick:function(){return m(u-1)},children:"Prev"}),(0,v.jsx)(s.z,{className:g,disabled:u>=y,onClick:function(){return m(u+1)},children:"Next"}),(0,v.jsx)(s.z,{className:g,disabled:P<=b,onClick:function(){return z(b+1)},children:"Next list"})]}),(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)("span",{children:"Current page: "}),(0,v.jsx)("p",{className:f,children:u})]}),(0,v.jsx)("div",{children:w.filter((function(n){return n>=N&&n<=k})).map((function(n){return(0,v.jsx)("span",{className:a()(p,(0,t.Z)({},d,u===n)),onClick:function(){m(n)},role:"button",tabIndex:0,children:n},n)}))})]})}},7250:function(n,e,r){r.d(e,{K5:function(){return i},yH:function(){return o},ze:function(){return t}});var t=100,i=5,o=15},2115:function(n,e,r){r.r(e),r.d(e,{default:function(){return K}});var t=r(5671),i=r(3144),o=r(136),u=r(2882),a=r(2791),s=r(8297),l=r(5809),c=r(364),f=r(7781),d=r(1933),p=(0,r(6916).P1)((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return n}))})),g=function(n){return n.usersPage.pageSize},h=function(n){return n.usersPage.totalUsersCount},v=function(n){return n.usersPage.currentPage},m=function(n){return n.usersPage.isFetching},_=function(n){return n.usersPage.followingInProgress},y=r(7250),w=r(849),x=r(4353),P=r(6527),j=r(2835),C=r(1523),b="user_container__cMZ-F",z="user_userContainer__3bpKy",N="user_avatar__YJ1pl",k="user_name__WG7ez",I="user_status__ogbQ8",S="user_button__tIt6i",O=r(184),F=function(n){var e=n.user,r=n.follow,t=n.unFollow,i=n.followingInProgress,o=n.isOwner;return(0,O.jsx)("div",{className:b,children:(0,O.jsxs)("div",{className:z,children:[(0,O.jsx)("div",{children:(0,O.jsx)(C.OL,{to:"/".concat(j.m.PROFILE,"/").concat(e.id),children:(0,O.jsx)("img",{alt:"User avatar",className:N,src:null!==e.photos.small?e.photos.small:x})})}),o&&(0,O.jsx)("div",{children:e.followed?(0,O.jsx)(P.z,{className:S,disabled:i.some((function(n){return n===e.id})),onClick:function(){t(e.id)},children:"Unfollow"}):(0,O.jsx)(P.z,{className:S,disabled:i.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"Follow"})}),(0,O.jsx)("div",{children:(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:k,children:e.name}),(0,O.jsx)("div",{className:I,children:e.status})]})})]})})},U="users_wrapper__6KyHJ",A="users_container__5QspD",Z=function(n){for(var e=n.totalUsersCount,r=n.pageSize,t=n.currentPage,i=n.onPageChanged,o=n.users,u=n.follow,a=n.unFollow,s=n.followingInProgress,l=n.isOwner,c=Math.ceil(e/r),f=[],d=1;d<=c;d+=1)f.push(d);return(0,O.jsxs)("div",{className:U,children:[(0,O.jsx)(w.t,{currentPage:t,onPageChanged:i,pageSize:r,portionSize:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?y.K5:y.yH,totalItemsCount:e}),(0,O.jsx)("div",{className:A,children:o.map((function(n){return(0,O.jsx)(F,{follow:u,followingInProgress:s,isOwner:l,unFollow:a,user:n},n.id)}))})]})},E=function(n){(0,o.Z)(r,n);var e=(0,u.Z)(r);function r(){var n;(0,t.Z)(this,r);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(n=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){var r=n.props,t=r.getUsers,i=r.pageSize;(0,r.setCurrentPage)(e),t(e,i)},n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage;(0,n.getUsers)(e,n.pageSize)}},{key:"render",value:function(){var n=this.props,e=n.currentPage,r=n.follow,t=n.followingInProgress,i=n.isFetching,o=n.isOwner,u=n.pageSize,a=n.totalUsersCount,c=n.unFollow,f=n.users;return(0,O.jsxs)(O.Fragment,{children:[i?(0,O.jsx)("div",{className:l.Z.absolutePreloaderContainer,children:(0,O.jsx)(s.p,{})}):null,(0,O.jsx)(Z,{currentPage:e,follow:r,followingInProgress:t,isOwner:o,onPageChanged:this.onPageChanged,pageSize:u,totalUsersCount:a,unFollow:c,users:f})]})}}]),r}(a.Component),K=(0,f.qC)((0,c.$j)((function(n){return{users:p(n),pageSize:g(n),totalUsersCount:h(n),currentPage:v(n),isFetching:m(n),followingInProgress:_(n),isOwner:n.auth.userId}}),{setCurrentPage:d.D4,getUsers:d.Rf,follow:d.ZN,unFollow:d.IJ}))(E)},6916:function(n,e,r){r.d(e,{P1:function(){return s}});var t="NOT_FOUND";var i=function(n,e){return n===e};function o(n,e){var r="object"===typeof e?e:{equalityCheck:e},o=r.equalityCheck,u=void 0===o?i:o,a=r.maxSize,s=void 0===a?1:a,l=r.resultEqualityCheck,c=function(n){return function(e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var t=e.length,i=0;i<t;i++)if(!n(e[i],r[i]))return!1;return!0}}(u),f=1===s?function(n){var e;return{get:function(r){return e&&n(e.key,r)?e.value:t},put:function(n,r){e={key:n,value:r}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(c):function(n,e){var r=[];function i(n){var i=r.findIndex((function(r){return e(n,r.key)}));if(i>-1){var o=r[i];return i>0&&(r.splice(i,1),r.unshift(o)),o.value}return t}return{get:i,put:function(e,o){i(e)===t&&(r.unshift({key:e,value:o}),r.length>n&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(s,c);function d(){var e=f.get(arguments);if(e===t){if(e=n.apply(null,arguments),l){var r=f.getEntries(),i=r.find((function(n){return l(n.value,e)}));i&&(e=i.value)}f.put(arguments,e)}return e}return d.clearCache=function(){return f.clear()},d}function u(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var r=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function a(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},l=t.pop();if("object"===typeof l&&(s=l,l=t.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s,f=c.memoizeOptions,d=void 0===f?r:f,p=Array.isArray(d)?d:[d],g=u(t),h=n.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(p)),v=n((function(){for(var n=[],e=g.length,r=0;r<e;r++)n.push(g[r].apply(null,arguments));return o=h.apply(null,n)}));return Object.assign(v,{resultFunc:l,memoizedResultFunc:h,dependencies:g,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),v};return i}var s=a(o)},5809:function(n,e){e.Z={absolutePreloaderContainer:"preloader_absolutePreloaderContainer__ztDIH"}},885:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(181);function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o,u,a=[],s=!0,l=!1;try{if(o=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=o.call(r)).done)&&(a.push(t.value),a.length!==e);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw i}}return a}}(n,e)||(0,t.Z)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=115.79911fdb.chunk.js.map