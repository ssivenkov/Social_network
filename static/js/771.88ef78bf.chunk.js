"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[771],{849:function(n,e,r){r.d(e,{t:function(){return m}});var t=r(4942),i=r(885),o=r(2791),a=r(1694),u=r.n(a),l=r(6527),s="pagination_pagination__KVUxs",c="pagination_text__CXY3h",f="pagination_currentNumber__hGg6K",d="pagination_selectPage__DsA+5",g="pagination_page__TcKxn",p="pagination_button__+Tzu0",h="pagination_buttonContainer__UniwP",v=r(184),m=function(n){for(var e=n.totalItemsCount,r=n.pageSize,a=n.currentPage,m=n.onPageChanged,_=n.portionSize,y=Math.ceil(e/r),w=[],x=1;x<=y;x+=1)w.push(x);var j=y/_,P=(0,o.useState)(1),C=(0,i.Z)(P,2),b=C[0],N=C[1],z=(b-1)*_+1,F=b*_;return(0,v.jsxs)("div",{className:s,children:[(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)(l.z,{className:p,disabled:b<=1,onClick:function(){return N(b-1)},children:"Prev list"}),(0,v.jsx)(l.z,{className:p,disabled:a<=1,onClick:function(){return m(a-1)},children:"Prev"}),(0,v.jsx)(l.z,{className:p,disabled:a>=y,onClick:function(){return m(a+1)},children:"Next"}),(0,v.jsx)(l.z,{className:p,disabled:j<=b,onClick:function(){return N(b+1)},children:"Next list"})]}),(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)("span",{children:"Current page: "}),(0,v.jsx)("p",{className:f,children:a})]}),(0,v.jsx)("div",{children:w.filter((function(n){return n>=z&&n<=F})).map((function(n){return(0,v.jsx)("span",{className:u()(g,(0,t.Z)({},d,a===n)),onClick:function(){m(n)},role:"button",tabIndex:0,children:n},n)}))})]})}},7250:function(n,e,r){r.d(e,{K5:function(){return i},yH:function(){return o},ze:function(){return t}});var t=100,i=5,o=15},8771:function(n,e,r){r.r(e),r.d(e,{default:function(){return U}});var t=r(5671),i=r(3144),o=r(136),a=r(2882),u=r(2791),l=r(8297),s=r(5809),c=r(364),f=r(7781),d=r(3148),g=(0,r(6916).P1)((function(n){return n.friendsPage.friends}),(function(n){return n.filter((function(n){return n}))})),p=function(n){return n.friendsPage.pageSize},h=function(n){return n.friendsPage.totalFriendsCount},v=function(n){return n.friendsPage.currentPage},m=function(n){return n.friendsPage.isFetching},_=function(n){return n.friendsPage.followingInProgress},y=r(7250),w=r(849),x=r(4353),j=r(6527),P=r(2835),C=r(1523),b="friend_container__y0VDU",N="friend_friendContainer__soYj5",z="friend_avatar__rAV8c",F="friend_name__yRAIj",k="friend_status__BoXru",I="friend_button__7wh9X",S=r(184),A=function(n){var e=n.friend,r=n.follow,t=n.unFollow,i=n.followingInProgress,o=n.isOwner;return(0,S.jsx)("div",{className:b,children:(0,S.jsxs)("div",{className:N,children:[(0,S.jsx)("div",{children:(0,S.jsx)(C.OL,{to:"/".concat(P.m.PROFILE,"/").concat(e.id),children:(0,S.jsx)("img",{alt:"Friend avatar",className:z,src:null!==e.photos.small?e.photos.small:x})})}),o&&(0,S.jsx)("div",{children:e.followed?(0,S.jsx)(j.z,{className:I,disabled:i.some((function(n){return n===e.id})),onClick:function(){t(e.id)},children:"Unfollow"}):(0,S.jsx)(j.z,{className:I,disabled:i.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"Follow"})}),(0,S.jsx)("div",{children:(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:F,children:e.name}),(0,S.jsx)("div",{className:k,children:e.status})]})})]})})},O="friendsPage_container__5+yT4",Z="friendsPage_wrapper__g0UjL",E="friendsPage_withoutAuthorizationTextContainer__gKXAC",T="friendsPage_withoutAuthorizationText__j4J-D",D=function(n){for(var e=n.totalFriendsCount,r=n.pageSize,t=n.currentPage,i=n.onPageChanged,o=n.friends,a=n.follow,u=n.unFollow,l=n.followingInProgress,s=n.isOwner,c=[],f=Math.ceil(e/r),d=1;d<=f;d+=1)c.push(d);return(0,S.jsx)("div",{className:Z,children:0===o.length?(0,S.jsx)("div",{className:E,children:(0,S.jsx)("span",{className:T,children:"The users you are following will be displayed here"})}):(0,S.jsxs)("div",{children:[(0,S.jsx)(w.t,{currentPage:t,onPageChanged:i,pageSize:r,portionSize:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?y.K5:y.yH,totalItemsCount:e}),(0,S.jsx)("div",{className:O,children:o.map((function(n){return(0,S.jsx)(A,{follow:a,followingInProgress:l,friend:n,isOwner:s,unFollow:u},n.id)}))})]})})},K=function(n){(0,o.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,t.Z)(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){var r=n.props,t=r.setCurrentPage,i=r.pageSize;t(e),n.props.getFriends(e,i)},n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage;(0,n.getFriends)(e,n.pageSize)}},{key:"render",value:function(){var n=this.props,e=n.currentPage,r=n.follow,t=n.followingInProgress,i=n.friends,o=n.isFetching,a=n.isOwner,u=n.pageSize,c=n.totalFriendsCount,f=n.unFollow;return(0,S.jsxs)(S.Fragment,{children:[o?(0,S.jsx)("div",{className:s.Z.absolutePreloaderContainer,children:(0,S.jsx)(l.p,{})}):null,(0,S.jsx)(D,{currentPage:e,follow:r,followingInProgress:t,friends:i,isOwner:a,onPageChanged:this.onPageChanged,pageSize:u,totalFriendsCount:c,unFollow:f})]})}}]),r}(u.Component),U=(0,f.qC)((0,c.$j)((function(n){return{friends:g(n),pageSize:p(n),totalFriendsCount:h(n),currentPage:v(n),isFetching:m(n),followingInProgress:_(n),isOwner:n.auth.userId}}),{setCurrentPage:d.D4,getFriends:d.$J,follow:d.ZN,unFollow:d.IJ}))(K)},6916:function(n,e,r){r.d(e,{P1:function(){return l}});var t="NOT_FOUND";var i=function(n,e){return n===e};function o(n,e){var r="object"===typeof e?e:{equalityCheck:e},o=r.equalityCheck,a=void 0===o?i:o,u=r.maxSize,l=void 0===u?1:u,s=r.resultEqualityCheck,c=function(n){return function(e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var t=e.length,i=0;i<t;i++)if(!n(e[i],r[i]))return!1;return!0}}(a),f=1===l?function(n){var e;return{get:function(r){return e&&n(e.key,r)?e.value:t},put:function(n,r){e={key:n,value:r}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(c):function(n,e){var r=[];function i(n){var i=r.findIndex((function(r){return e(n,r.key)}));if(i>-1){var o=r[i];return i>0&&(r.splice(i,1),r.unshift(o)),o.value}return t}return{get:i,put:function(e,o){i(e)===t&&(r.unshift({key:e,value:o}),r.length>n&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(l,c);function d(){var e=f.get(arguments);if(e===t){if(e=n.apply(null,arguments),s){var r=f.getEntries(),i=r.find((function(n){return s(n.value,e)}));i&&(e=i.value)}f.put(arguments,e)}return e}return d.clearCache=function(){return f.clear()},d}function a(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var r=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function u(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o,u=0,l={memoizeOptions:void 0},s=t.pop();if("object"===typeof s&&(l=s,s=t.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=l,f=c.memoizeOptions,d=void 0===f?r:f,g=Array.isArray(d)?d:[d],p=a(t),h=n.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(g)),v=n((function(){for(var n=[],e=p.length,r=0;r<e;r++)n.push(p[r].apply(null,arguments));return o=h.apply(null,n)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:h,dependencies:p,lastResult:function(){return o},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v};return i}var l=u(o)},5809:function(n,e){e.Z={absolutePreloaderContainer:"preloader_absolutePreloaderContainer__ztDIH"}},885:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(181);function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,i,o,a,u=[],l=!0,s=!1;try{if(o=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(t=o.call(r)).done)&&(u.push(t.value),u.length!==e);l=!0);}catch(c){s=!0,i=c}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(n,e)||(0,t.Z)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=771.88ef78bf.chunk.js.map